{"ast":null,"code":"var _jsxFileName = \"D:\\\\IaaC\\\\DataVis\\\\data_vis_project\\\\code\\\\interactive-map\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Container, GlobalStyle, MapContainer, PromptContainer, TextArea, GenerateButton, LoadingMessage } from './style.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [prompt, setPrompt] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [mapHTML, setMapHTML] = useState(\"http://127.0.0.1:5000/maps/filtered_map.html\");\n  const handlePromptSubmit = async () => {\n    if (!prompt.trim()) return;\n    setLoading(true);\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/process-prompt\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          prompt\n        })\n      });\n      const data = await response.json();\n      if (data.error) {\n        console.error(\"Server Error:\", data.error);\n        return;\n      }\n      const newMapUrl = `http://127.0.0.1:5000/maps/filtered_map.html?t=${new Date().getTime()}`;\n      setMapHTML(\"\");\n      setTimeout(() => {\n        setMapHTML(newMapUrl);\n      }, 50);\n    } catch (error) {\n      console.error(\"Error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n        children: loading ? /*#__PURE__*/_jsxDEV(LoadingMessage, {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"iframe\", {\n          src: mapHTML,\n          title: \"Interactive Map\",\n          style: {\n            width: \"100vw\",\n            height: \"100vh\",\n            border: \"none\",\n            position: \"fixed\",\n            top: 0,\n            left: 0\n          }\n        }, mapHTML, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PromptContainer, {\n        style: {\n          position: \"fixed\",\n          bottom: \"2rem\",\n          left: \"50%\",\n          transform: \"translateX(-50%)\",\n          display: \"flex\",\n          gap: \"1rem\",\n          padding: \"1rem\",\n          background: \"rgba(255, 255, 255, 0.9)\",\n          borderRadius: \"8px\",\n          boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\n          zIndex: 1000\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextArea, {\n          placeholder: \"Enter your search query...\",\n          value: prompt,\n          onChange: e => setPrompt(e.target.value),\n          onKeyPress: e => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              handlePromptSubmit();\n            }\n          },\n          style: {\n            width: \"400px\",\n            padding: \"0.5rem\",\n            borderRadius: \"4px\",\n            border: \"1px solid #ccc\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(GenerateButton, {\n          onClick: handlePromptSubmit,\n          style: {\n            padding: \"0.5rem 1rem\",\n            borderRadius: \"4px\",\n            background: \"#3e5caa\",\n            color: \"white\",\n            border: \"none\",\n            cursor: \"pointer\"\n          },\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"Ffi8GtPtpoGJxLqCITfHWgaFn5U=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Container","GlobalStyle","MapContainer","PromptContainer","TextArea","GenerateButton","LoadingMessage","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","prompt","setPrompt","loading","setLoading","mapHTML","setMapHTML","handlePromptSubmit","trim","response","fetch","method","headers","body","JSON","stringify","data","json","error","console","newMapUrl","Date","getTime","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","src","title","style","width","height","border","position","top","left","bottom","transform","display","gap","padding","background","borderRadius","boxShadow","zIndex","placeholder","value","onChange","e","target","onKeyPress","key","shiftKey","preventDefault","onClick","color","cursor","_c","$RefreshReg$"],"sources":["D:/IaaC/DataVis/data_vis_project/code/interactive-map/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n    Container,\n    GlobalStyle,\n    MapContainer,\n    PromptContainer,\n    TextArea,\n    GenerateButton,\n    LoadingMessage\n} from './style.js';\n\nfunction App() {\n    const [prompt, setPrompt] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [mapHTML, setMapHTML] = useState(\"http://127.0.0.1:5000/maps/filtered_map.html\");\n\n    const handlePromptSubmit = async () => {\n        if (!prompt.trim()) return;\n        \n        setLoading(true);\n        \n        try {\n            const response = await fetch(\"http://127.0.0.1:5000/process-prompt\", {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ prompt }),\n            });\n\n            const data = await response.json();\n            if (data.error) {\n                console.error(\"Server Error:\", data.error);\n                return;\n            }\n\n            const newMapUrl = `http://127.0.0.1:5000/maps/filtered_map.html?t=${new Date().getTime()}`;\n            setMapHTML(\"\");\n            setTimeout(() => {\n                setMapHTML(newMapUrl);\n            }, 50);\n\n        } catch (error) {\n            console.error(\"Error:\", error);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <>\n            <GlobalStyle />\n            <Container>\n                <MapContainer>\n                    {loading ? (\n                        <LoadingMessage>Loading...</LoadingMessage>\n                    ) : (\n                        <iframe\n                            key={mapHTML}\n                            src={mapHTML}\n                            title=\"Interactive Map\"\n                            style={{\n                                width: \"100vw\",\n                                height: \"100vh\",\n                                border: \"none\",\n                                position: \"fixed\",\n                                top: 0,\n                                left: 0\n                            }}\n                        />\n                    )}\n                </MapContainer>\n\n                <PromptContainer\n                    style={{\n                        position: \"fixed\",\n                        bottom: \"2rem\",\n                        left: \"50%\",\n                        transform: \"translateX(-50%)\",\n                        display: \"flex\",\n                        gap: \"1rem\",\n                        padding: \"1rem\",\n                        background: \"rgba(255, 255, 255, 0.9)\",\n                        borderRadius: \"8px\",\n                        boxShadow: \"0 4px 6px rgba(0, 0, 0, 0.1)\",\n                        zIndex: 1000\n                    }}\n                >\n                    <TextArea \n                        placeholder=\"Enter your search query...\" \n                        value={prompt}\n                        onChange={(e) => setPrompt(e.target.value)}\n                        onKeyPress={(e) => {\n                            if (e.key === 'Enter' && !e.shiftKey) {\n                                e.preventDefault();\n                                handlePromptSubmit();\n                            }\n                        }}\n                        style={{\n                            width: \"400px\",\n                            padding: \"0.5rem\",\n                            borderRadius: \"4px\",\n                            border: \"1px solid #ccc\"\n                        }}\n                    />\n                    <GenerateButton \n                        onClick={handlePromptSubmit}\n                        style={{\n                            padding: \"0.5rem 1rem\",\n                            borderRadius: \"4px\",\n                            background: \"#3e5caa\",\n                            color: \"white\",\n                            border: \"none\",\n                            cursor: \"pointer\"\n                        }}\n                    >\n                        Search\n                    </GenerateButton>\n                </PromptContainer>\n            </Container>\n        </>\n    );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}