{"ast":null,"code":"var _jsxFileName = \"D:\\\\IaaC\\\\DataVis\\\\data_vis_project\\\\code\\\\interactive-map\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  overflow: hidden;\n  font-family: 'Bahnschrift', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n_c = Container;\nconst MapContainer = styled.div`\n  width: 100%;\n  height: 100vh;\n  position: relative;\n`;\n_c2 = MapContainer;\nconst LoadingMessage = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 20px 40px;\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 10px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  font-size: 18px;\n  color: #4a5568;\n  backdrop-filter: blur(10px);\n  font-family: 'Bahnschrift', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n_c3 = LoadingMessage;\nconst PromptBox = styled.div`\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 60%;\n  max-width: 600px;\n  padding: 15px;\n  background: rgba(255, 255, 255, 0.8);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  box-shadow: \n    0 10px 15px -3px rgba(0, 0, 0, 0.1),\n    0 4px 6px -2px rgba(0, 0, 0, 0.05),\n    inset 0 -20px 20px -20px rgba(255, 255, 255, 0.3),\n    inset 0 20px 20px -20px rgba(255, 255, 255, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  display: flex;\n  gap: 10px;\n  z-index: 1000;\n`;\n_c4 = PromptBox;\nconst Input = styled.input`\n  flex: 1;\n  padding: 10px;\n  border: none;\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 16px;\n  font-family: 'Bahnschrift', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);\n  &:focus {\n    outline: none;\n    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(74, 108, 247, 0.2);\n  }\n`;\n_c5 = Input;\nconst Button = styled.button`\n  padding: 10px 20px;\n  border: none;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #6e8efb, #4a6cf7);\n  color: white;\n  cursor: pointer;\n  font-weight: bold;\n  font-family: 'Bahnschrift', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  transition: all 0.2s;\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;\n_c6 = Button;\nconst AnalyticsPanel = styled.div`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 300px;\n  max-height: 80vh;\n  overflow-y: auto;\n  background: rgba(255, 255, 255, 0.92);\n  backdrop-filter: blur(12px) saturate(180%);\n  border-radius: 15px;\n  padding: 20px;\n  box-shadow: \n    0 10px 15px -3px rgba(0, 0, 0, 0.1),\n    0 4px 6px -2px rgba(0, 0, 0, 0.05),\n    inset 0 -20px 20px -20px rgba(255, 255, 255, 0.5),\n    inset 0 20px 20px -20px rgba(255, 255, 255, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  z-index: 1000;\n  transition: all 0.3s ease;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n    background: transparent;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 4px;\n    margin: 4px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: rgba(74, 108, 247, 0.2);\n    border-radius: 4px;\n    border: 2px solid transparent;\n    background-clip: padding-box;\n\n    &:hover {\n      background: rgba(74, 108, 247, 0.3);\n      border: 2px solid transparent;\n      background-clip: padding-box;\n    }\n  }\n\n  &:hover {\n    box-shadow: \n      0 15px 20px -3px rgba(0, 0, 0, 0.12),\n      0 6px 8px -2px rgba(0, 0, 0, 0.06),\n      inset 0 -20px 20px -20px rgba(255, 255, 255, 0.6),\n      inset 0 20px 20px -20px rgba(255, 255, 255, 0.6);\n  }\n\n  img {\n    display: block;\n    width: 100%;\n    max-width: 100%;\n    height: auto;\n    margin: 15px 0;\n    border-radius: 10px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    transition: transform 0.2s ease;\n\n    &:hover {\n      transform: scale(1.02);\n      box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\n    }\n  }\n\n  h3 {\n    color: #2d3748;\n    margin: 0 0 10px 0;\n    font-size: 1.2em;\n    font-weight: 600;\n  }\n\n  p {\n    color: #4a5568;\n    line-height: 1.5;\n    margin: 0 0 15px 0;\n  }\n\n  ul {\n    color: #4a5568;\n    padding-left: 20px;\n    margin: 0;\n    \n    li {\n      margin-bottom: 5px;\n      line-height: 1.4;\n    }\n  }\n`;\n_c7 = AnalyticsPanel;\nfunction App() {\n  _s();\n  const [prompt, setPrompt] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [mapHTML, setMapHTML] = useState(\"http://127.0.0.1:5000/maps/filtered_map.html\");\n  const [mapLoading, setMapLoading] = useState(false);\n  const [mapError, setMapError] = useState(null);\n  const [analytics, setAnalytics] = useState({\n    summary: '',\n    count: 0,\n    logs: [],\n    visualization: null\n  });\n  const handlePromptSubmit = async () => {\n    if (!prompt.trim()) return;\n    setLoading(true);\n    setMapLoading(true);\n    setMapError(null);\n    try {\n      const response = await fetch('http://127.0.0.1:5000/process-prompt', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          query: prompt.trim()\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.error) {\n        console.error('Error:', data.error);\n        setMapError(data.error);\n        return;\n      }\n      setAnalytics({\n        summary: data.summary,\n        count: data.count,\n        logs: data.logs,\n        visualization: data.visualization\n      });\n\n      // Wait a short moment to ensure the map file is ready\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      // Update map URL with timestamp to force refresh\n      const timestamp = Date.now();\n      const newMapUrl = `http://127.0.0.1:5000/maps/${data.filteredMap}?t=${timestamp}`;\n      setMapHTML(newMapUrl);\n    } catch (error) {\n      console.error('Error:', error);\n      setMapError('Failed to process request: ' + error.message);\n    } finally {\n      setLoading(false);\n      setMapLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handlePromptSubmit();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"iframe\", {\n        src: mapHTML,\n        title: \"Interactive Map\",\n        style: {\n          width: \"100%\",\n          height: \"100vh\",\n          border: \"none\",\n          display: mapLoading ? \"none\" : \"block\"\n        },\n        onLoad: () => {\n          console.log(\"Map iframe loaded\");\n          setMapLoading(false);\n        },\n        onError: e => {\n          console.error(\"Map iframe error:\", e);\n          setMapError('Failed to display map');\n          setMapLoading(false);\n        }\n      }, mapHTML, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this), mapLoading && /*#__PURE__*/_jsxDEV(LoadingMessage, {\n        children: \"Loading map...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), mapError && /*#__PURE__*/_jsxDEV(LoadingMessage, {\n        style: {\n          color: '#e53e3e'\n        },\n        children: mapError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PromptBox, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        value: prompt,\n        onChange: e => setPrompt(e.target.value),\n        onKeyPress: handleKeyPress,\n        placeholder: \"Enter your search query...\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handlePromptSubmit,\n        disabled: loading,\n        children: loading ? 'Searching...' : 'Search'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnalyticsPanel, {\n      children: [analytics.summary && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 10px 0',\n            color: '#2d3748'\n          },\n          children: \"Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#4a5568'\n          },\n          children: analytics.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), analytics.visualization && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `data:image/png;base64,${analytics.visualization.data}`,\n          alt: analytics.visualization.title || \"Data Visualization\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this), analytics.count > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#4a5568'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Results:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), \" \", analytics.count, \" matches found\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), analytics.logs.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '15px 0 10px 0',\n            color: '#2d3748'\n          },\n          children: \"Processing Steps\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            color: '#4a5568',\n            paddingLeft: '20px',\n            margin: '0'\n          },\n          children: analytics.logs.map((log, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              marginBottom: '5px'\n            },\n            children: log\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"jsppAlT75q8J3e27MBi09L+oXRQ=\");\n_c8 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"MapContainer\");\n$RefreshReg$(_c3, \"LoadingMessage\");\n$RefreshReg$(_c4, \"PromptBox\");\n$RefreshReg$(_c5, \"Input\");\n$RefreshReg$(_c6, \"Button\");\n$RefreshReg$(_c7, \"AnalyticsPanel\");\n$RefreshReg$(_c8, \"App\");","map":{"version":3,"names":["React","useState","useEffect","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","_c","MapContainer","_c2","LoadingMessage","_c3","PromptBox","_c4","Input","input","_c5","Button","button","_c6","AnalyticsPanel","_c7","App","_s","prompt","setPrompt","loading","setLoading","mapHTML","setMapHTML","mapLoading","setMapLoading","mapError","setMapError","analytics","setAnalytics","summary","count","logs","visualization","handlePromptSubmit","trim","response","fetch","method","headers","credentials","body","JSON","stringify","query","ok","Error","status","data","json","error","console","Promise","resolve","setTimeout","timestamp","Date","now","newMapUrl","filteredMap","message","handleKeyPress","e","key","children","src","title","style","width","height","border","display","onLoad","log","onError","fileName","_jsxFileName","lineNumber","columnNumber","color","type","value","onChange","target","onKeyPress","placeholder","disabled","onClick","margin","marginTop","alt","length","paddingLeft","map","index","marginBottom","_c8","$RefreshReg$"],"sources":["D:/IaaC/DataVis/data_vis_project/code/interactive-map/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  overflow: hidden;\n  font-family: 'Bahnschrift', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst MapContainer = styled.div`\n  width: 100%;\n  height: 100vh;\n  position: relative;\n`;\n\nconst LoadingMessage = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding: 20px 40px;\n  background: rgba(255, 255, 255, 0.9);\n  border-radius: 10px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  font-size: 18px;\n  color: #4a5568;\n  backdrop-filter: blur(10px);\n  font-family: 'Bahnschrift', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n`;\n\nconst PromptBox = styled.div`\n  position: fixed;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 60%;\n  max-width: 600px;\n  padding: 15px;\n  background: rgba(255, 255, 255, 0.8);\n  backdrop-filter: blur(10px);\n  border-radius: 15px;\n  box-shadow: \n    0 10px 15px -3px rgba(0, 0, 0, 0.1),\n    0 4px 6px -2px rgba(0, 0, 0, 0.05),\n    inset 0 -20px 20px -20px rgba(255, 255, 255, 0.3),\n    inset 0 20px 20px -20px rgba(255, 255, 255, 0.3);\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  display: flex;\n  gap: 10px;\n  z-index: 1000;\n`;\n\nconst Input = styled.input`\n  flex: 1;\n  padding: 10px;\n  border: none;\n  border-radius: 8px;\n  background: rgba(255, 255, 255, 0.9);\n  font-size: 16px;\n  font-family: 'Bahnschrift', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);\n  &:focus {\n    outline: none;\n    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(74, 108, 247, 0.2);\n  }\n`;\n\nconst Button = styled.button`\n  padding: 10px 20px;\n  border: none;\n  border-radius: 8px;\n  background: linear-gradient(135deg, #6e8efb, #4a6cf7);\n  color: white;\n  cursor: pointer;\n  font-weight: bold;\n  font-family: 'Bahnschrift', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  transition: all 0.2s;\n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;\n\nconst AnalyticsPanel = styled.div`\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  width: 300px;\n  max-height: 80vh;\n  overflow-y: auto;\n  background: rgba(255, 255, 255, 0.92);\n  backdrop-filter: blur(12px) saturate(180%);\n  border-radius: 15px;\n  padding: 20px;\n  box-shadow: \n    0 10px 15px -3px rgba(0, 0, 0, 0.1),\n    0 4px 6px -2px rgba(0, 0, 0, 0.05),\n    inset 0 -20px 20px -20px rgba(255, 255, 255, 0.5),\n    inset 0 20px 20px -20px rgba(255, 255, 255, 0.5);\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  z-index: 1000;\n  transition: all 0.3s ease;\n\n  &::-webkit-scrollbar {\n    width: 8px;\n    background: transparent;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 4px;\n    margin: 4px;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: rgba(74, 108, 247, 0.2);\n    border-radius: 4px;\n    border: 2px solid transparent;\n    background-clip: padding-box;\n\n    &:hover {\n      background: rgba(74, 108, 247, 0.3);\n      border: 2px solid transparent;\n      background-clip: padding-box;\n    }\n  }\n\n  &:hover {\n    box-shadow: \n      0 15px 20px -3px rgba(0, 0, 0, 0.12),\n      0 6px 8px -2px rgba(0, 0, 0, 0.06),\n      inset 0 -20px 20px -20px rgba(255, 255, 255, 0.6),\n      inset 0 20px 20px -20px rgba(255, 255, 255, 0.6);\n  }\n\n  img {\n    display: block;\n    width: 100%;\n    max-width: 100%;\n    height: auto;\n    margin: 15px 0;\n    border-radius: 10px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    transition: transform 0.2s ease;\n\n    &:hover {\n      transform: scale(1.02);\n      box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\n    }\n  }\n\n  h3 {\n    color: #2d3748;\n    margin: 0 0 10px 0;\n    font-size: 1.2em;\n    font-weight: 600;\n  }\n\n  p {\n    color: #4a5568;\n    line-height: 1.5;\n    margin: 0 0 15px 0;\n  }\n\n  ul {\n    color: #4a5568;\n    padding-left: 20px;\n    margin: 0;\n    \n    li {\n      margin-bottom: 5px;\n      line-height: 1.4;\n    }\n  }\n`;\n\nfunction App() {\n  const [prompt, setPrompt] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [mapHTML, setMapHTML] = useState(\"http://127.0.0.1:5000/maps/filtered_map.html\");\n  const [mapLoading, setMapLoading] = useState(false);\n  const [mapError, setMapError] = useState(null);\n  const [analytics, setAnalytics] = useState({\n    summary: '',\n    count: 0,\n    logs: [],\n    visualization: null\n  });\n\n  const handlePromptSubmit = async () => {\n    if (!prompt.trim()) return;\n    \n    setLoading(true);\n    setMapLoading(true);\n    setMapError(null);\n    \n    try {\n      const response = await fetch('http://127.0.0.1:5000/process-prompt', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({ query: prompt.trim() })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      \n      if (data.error) {\n        console.error('Error:', data.error);\n        setMapError(data.error);\n        return;\n      }\n\n      setAnalytics({\n        summary: data.summary,\n        count: data.count,\n        logs: data.logs,\n        visualization: data.visualization\n      });\n\n      // Wait a short moment to ensure the map file is ready\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      // Update map URL with timestamp to force refresh\n      const timestamp = Date.now();\n      const newMapUrl = `http://127.0.0.1:5000/maps/${data.filteredMap}?t=${timestamp}`;\n      setMapHTML(newMapUrl);\n      \n    } catch (error) {\n      console.error('Error:', error);\n      setMapError('Failed to process request: ' + error.message);\n    } finally {\n      setLoading(false);\n      setMapLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handlePromptSubmit();\n    }\n  };\n\n  return (\n    <Container>\n      <MapContainer>\n        <iframe\n          key={mapHTML}\n          src={mapHTML}\n          title=\"Interactive Map\"\n          style={{\n            width: \"100%\",\n            height: \"100vh\",\n            border: \"none\",\n            display: mapLoading ? \"none\" : \"block\"\n          }}\n          onLoad={() => {\n            console.log(\"Map iframe loaded\");\n            setMapLoading(false);\n          }}\n          onError={(e) => {\n            console.error(\"Map iframe error:\", e);\n            setMapError('Failed to display map');\n            setMapLoading(false);\n          }}\n        />\n        {mapLoading && (\n          <LoadingMessage>Loading map...</LoadingMessage>\n        )}\n        {mapError && (\n          <LoadingMessage style={{ color: '#e53e3e' }}>{mapError}</LoadingMessage>\n        )}\n      </MapContainer>\n\n      <PromptBox>\n        <Input\n          type=\"text\"\n          value={prompt}\n          onChange={(e) => setPrompt(e.target.value)}\n          onKeyPress={handleKeyPress}\n          placeholder=\"Enter your search query...\"\n          disabled={loading}\n        />\n        <Button onClick={handlePromptSubmit} disabled={loading}>\n          {loading ? 'Searching...' : 'Search'}\n        </Button>\n      </PromptBox>\n      \n      <AnalyticsPanel>\n        {analytics.summary && (\n          <>\n            <h3 style={{ margin: '0 0 10px 0', color: '#2d3748' }}>Summary</h3>\n            <p style={{ color: '#4a5568' }}>{analytics.summary}</p>\n          </>\n        )}\n        \n        {analytics.visualization && (\n          <div style={{ marginTop: '20px' }}>\n            <img \n              src={`data:image/png;base64,${analytics.visualization.data}`}\n              alt={analytics.visualization.title || \"Data Visualization\"}\n            />\n          </div>\n        )}\n        \n        {analytics.count > 0 && (\n          <p style={{ color: '#4a5568' }}>\n            <strong>Results:</strong> {analytics.count} matches found\n          </p>\n        )}\n\n        {analytics.logs.length > 0 && (\n          <>\n            <h3 style={{ margin: '15px 0 10px 0', color: '#2d3748' }}>Processing Steps</h3>\n            <ul style={{ \n              color: '#4a5568', \n              paddingLeft: '20px',\n              margin: '0'\n            }}>\n              {analytics.logs.map((log, index) => (\n                <li key={index} style={{ marginBottom: '5px' }}>{log}</li>\n              ))}\n            </ul>\n          </>\n        )}\n      </AnalyticsPanel>\n    </Container>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEvC,MAAMC,SAAS,GAAGL,MAAM,CAACM,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GANIF,SAAS;AAQf,MAAMG,YAAY,GAAGR,MAAM,CAACM,GAAG;AAC/B;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAJID,YAAY;AAMlB,MAAME,cAAc,GAAGV,MAAM,CAACM,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GAbID,cAAc;AAepB,MAAME,SAAS,GAAGZ,MAAM,CAACM,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACO,GAAA,GApBID,SAAS;AAsBf,MAAME,KAAK,GAAGd,MAAM,CAACe,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAbIF,KAAK;AAeX,MAAMG,MAAM,GAAGjB,MAAM,CAACkB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAlBIF,MAAM;AAoBZ,MAAMG,cAAc,GAAGpB,MAAM,CAACM,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}